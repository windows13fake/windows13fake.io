<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Le Cloud a lisa</title>
<style>
    body {
        margin: 0;
        font-family: Arial;
        background: #111 url('https://i.ibb.co/HpkG0gW/maman.png') center/cover no-repeat;
        color: white;
    }
    #lockscreen, #cloud {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        backdrop-filter: blur(10px);
    }
    #cloud { display: none; }
    .card {
        background: rgba(0,0,0,0.7);
        padding: 20px;
        border-radius: 15px;
        width: 350px;
        text-align: center;
        border: 2px solid #0ff;
        box-shadow: 0 0 20px #0ff;
    }
    input[type=password], input[type=file] {
        width: 90%;
        padding: 10px;
        margin: 10px;
        border-radius: 10px;
        border: none;
    }
    button {
        padding: 10px 20px;
        border: none;
        border-radius: 10px;
        background: #0ff;
        cursor: pointer;
        font-weight: bold;
    }
    #fileList { margin-top: 20px; }
    .fileItem {
        background: rgba(255,255,255,0.1);
        padding: 8px;
        margin: 5px 0;
        border-radius: 8px;
    }
</style>
</head>
<body>

<div id="lockscreen">
    <div class="card">
        <h2>Cloud sécurisé</h2>
        <p>Entrez le code :</p>
        <input id="pass" type="password" placeholder="••••••">
        <button onclick="unlock()">Déverrouiller</button>
        <p style="margin-top:15px; font-size:14px;">Mot de passe : 160902</p>
    </div>
</div>

<div id="cloud">
    <div class="card" style="width:450px;">
        <h2>Mon Cloud</h2>
        <input id="fileInput" type="file" multiple>
        <button onclick="uploadFiles()">Importer</button>
        <div id="fileList"></div>
    </div>
</div>

<script>
const PASSWORD = "160902";

// Chargement des fichiers sauvegardés
let savedFiles = JSON.parse(localStorage.getItem("cloudFiles") || "{}");

function unlock() {
    let p = document.getElementById("pass").value;
    if (p === PASSWORD) {
        document.getElementById("lockscreen").style.display = "none";
        document.getElementById("cloud").style.display = "flex";
        refreshList();
    }
}

function uploadFiles() {
    let files = document.getElementById("fileInput").files;

    [...files].forEach(file => {
        let reader = new FileReader();
        reader.onload = function(e) {
            savedFiles[file.name] = e.target.result;
            localStorage.setItem("cloudFiles", JSON.stringify(savedFiles));
            refreshList();
        };
        reader.readAsDataURL(file);
    });
}

function downloadFile(name, data) {
    let a = document.createElement("a");
    a.href = data;
    a.download = name;
    a.click();
}

// Affiche la liste
function refreshList() {
    let list = document.getElementById("fileList");
    list.innerHTML = "";

    for (let name in savedFiles) {
        let div = document.createElement("div");
        div.className = "fileItem";
        div.innerHTML = `
            ${name}  
            <button onclick="downloadFile('${name}', savedFiles['${name}'])">Télécharger</button>
        `;
        list.appendChild(div);
    }
}
</script>

</body>
</html>
